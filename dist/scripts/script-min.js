document.addEventListener("DOMContentLoaded",function(){new WOW({animateClass:"animate__animated"}).init();let e=document.getElementById("menu"),t=document.getElementById("about"),o=document.getElementById("collection"),n=document.getElementById("m-1"),l=document.getElementById("m-2"),c=document.getElementById("m-3"),d=document.getElementById("m-4"),i=document.getElementById("btn-hero"),s=document.getElementById("btn-footer"),r=document.getElementById("btn-order"),a=document.getElementById("reserved-hookah"),m=document.getElementById("ph1");function u(){a.scrollIntoView({block:"center",behavior:"smooth"})}let h=document.querySelectorAll(".item-menu"),y=document.getElementById("our-menu");h.forEach(e=>{e.addEventListener("click",()=>{y.scrollIntoView({behavior:"smooth",block:"start"})})}),n.addEventListener("click",function(){t.scrollIntoView({block:"center",behavior:"smooth"})}),l.addEventListener("click",function(){e.scrollIntoView({block:"center",behavior:"smooth"})}),c.addEventListener("click",function(){o.scrollIntoView({block:"center",behavior:"smooth"})}),i.addEventListener("click",u),r.addEventListener("click",u),s.addEventListener("click",u),d.addEventListener("click",function(){m.scrollIntoView({block:"center",behavior:"smooth"})});let E=document.querySelector(".slider"),b=document.querySelector(".prev-button"),k=document.querySelector(".next-button"),v=Array.from(E.querySelectorAll("img")).length,f=0;function p(){let e;e=window.innerWidth>=1201?410*-f:window.innerWidth>=768&&window.innerWidth<=1200?346.5*-f:320*-f,E.style.transform=`translateX(${e}px)`}b.addEventListener("click",()=>{f=window.innerWidth>=1201?(f-3+v)%v:window.innerWidth>=768&&window.innerWidth<=1200?(f-2+v)%v:(f-1+v)%v,p()}),k.addEventListener("click",()=>{f=window.innerWidth>=1201?(f+3)%v:window.innerWidth>=768&&window.innerWidth<=1200?(f+2)%v:(f+1)%v,p()}),p();let g=document.querySelectorAll("li");g[4].classList.add("active"),g.forEach(e=>{e.addEventListener("click",()=>{g.forEach(e=>e.classList.remove("active")),e.classList.add("active")})});let w=document.querySelectorAll(".dd"),L=document.querySelectorAll(".dot"),I=document.querySelectorAll(".dot-gallery");w[0].classList.add("activeDots"),w.forEach(e=>{e.addEventListener("click",()=>{w.forEach(e=>e.classList.remove("activeDots")),e.classList.add("activeDots")})}),L.forEach(e=>{e.addEventListener("click",()=>{L.forEach(e=>e.classList.remove("activeDots")),e.classList.add("activeDots")})}),I.forEach(e=>{e.addEventListener("click",()=>{I.forEach(e=>e.classList.remove("activeDots")),e.classList.add("activeDots")})});let B=[],S=[];for(let e=1;e<=6;e++)B.push(document.getElementById(`slide-dots${e}`)),S.push(document.getElementById(`slider${e}`));window.innerWidth<=1024&&B.forEach((e,t)=>{e.addEventListener("click",()=>{S.forEach((e,o)=>{e.style.display=t===o?"block":"none"})})});let W=[],q=[];document.querySelectorAll(".promotions-item").forEach(e=>{q.push(e)});for(let e=1;e<=3;e++)W.push(document.getElementById(`promotions-dots${e}`));W[0].classList.add("activeDots"),window.innerWidth<=1024&&W.forEach((e,t)=>{e.addEventListener("click",()=>{q.forEach((e,o)=>{e.style.display=t===o?"block":"none"})})});let x=[],D=[];I.forEach(e=>{x.push(e)}),document.querySelectorAll(".gallery-image").forEach(e=>{D.push(e)}),x[0].classList.add("activeDots"),window.innerWidth<=1024&&x.forEach((e,t)=>{e.addEventListener("click",()=>{D.forEach((e,o)=>{e.style.display=t===o?"block":"none"})})}),baguetteBox.run(".gallery",{animation:"fadeIn",noScrollbars:!0,fullScreen:!0});let A=[{button:"hookah",block:"hookah-block"},{button:"snacks",block:"snacks-hookah"},{button:"tea",block:"tea-hookah"},{button:"bar",block:"bar-hookah"}];if(A.forEach(e=>{let t=document.getElementById(e.button),o=document.getElementById(e.block);t&&o&&t.addEventListener("click",e=>{e.preventDefault(),A.forEach(e=>{let t=document.getElementById(e.block);t&&(t.style.display="none")}),o.style.display="grid"})}),$("#btn-order").click(function(){let e=$("#input-name"),t=$("#input-phone"),o=!1,n=$(".loader-block");$(".error-input").hide(),e.val()?e.val()&&e.css("border-color","rgb(98, 36, 223)"):(e.next().show(),e.css("border-color","red"),o=!0),t.val()?t.val()&&t.css("border-color","rgb(98, 36, 223)"):(t.next().show(),t.css("border-color","red"),o=!0),o||(n.css("display","flex"),$.ajax({method:"POST",url:"https://testologia.ru/checkout",data:{name:e.val(),phone:t.val()}}).done(function(e){n.hide(),e.success?(console.log("Всё прошло успешно:"),console.log(e),c.css("display","none"),d.css("display","none"),l.css("text-align","center"),l.css("display","block"),i.css("paddingLeft","62px")):(console.log("Не получены данные:"),console.log(e),alert("Возникла ошибка при оформлении заказа, позвоните нам и сделайте заказ"),document.getElementById("input-name").value="",document.getElementById("input-phone").value="")}));let l=$(".orders__hide-block"),c=$("#order-block"),d=$("#h2-order"),i=$("#reserved-hookah-block__p")}),window.innerWidth<=576){let e=document.getElementById("header__menu"),t=document.getElementById("burger-menu"),o=document.getElementById("close");t.onclick=function(){e.style.display="flex",o.style.display="flex"},e.onclick=function(n){n.target!==t&&(e.style.display="none",o.style.display="none")},o.onclick=function(){o.style.display="none",e.style.display="none"}}$(function(){$("#input-phone").mask("+7(999) 999-9999")}),ymaps.ready(function(){const e=new ymaps.Map("map",{center:[53.420683,49.535395],zoom:16}),t=new ymaps.Placemark([53.420683,49.535395],{balloonContent:"Иван может кальянчика?",iconContent:'<span style="color:#6224df; font-weight:bold">LOUNGE BAR</span> кальяная'},{balloonPane:"outerBalloon",preset:"islands#blueStretchyIcon"});e.geoObjects.add(t)})});